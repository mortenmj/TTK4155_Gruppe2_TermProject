<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>P1000: C:/Users/mortenmj/Documents/GitHub/Byggern/P1000/Drivers/can/MCP2515.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">P1000
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8ceffd4ee35c3518d4e8bdc7e638efe8.html">Users</a></li><li class="navelem"><a class="el" href="dir_68036511b5a8d94c69c64eddc500f519.html">mortenmj</a></li><li class="navelem"><a class="el" href="dir_13269ec76d1f539379c938aa05add049.html">Documents</a></li><li class="navelem"><a class="el" href="dir_f92378468560ca24168f74b49dcd0c34.html">GitHub</a></li><li class="navelem"><a class="el" href="dir_d488b241dc67b26cc4c797fc713533d1.html">Byggern</a></li><li class="navelem"><a class="el" href="dir_8808ec737eddb371c7aecbea06bb979f.html">P1000</a></li><li class="navelem"><a class="el" href="dir_85cd3b12724a2c6c0b9c6a5e32c6b0f9.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_fd3c2d54f2ec47b801e12c81e461f640.html">can</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MCP2515.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>API for Atmel AVR MCU to control the Microchip MCP2515 CAN controller. This CAN controller use the SPI link. For that reason, SPI initiation and data control should custom by the user.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
</div>
<p><a href="_m_c_p2515_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmcp2515__can__frame__s.html">mcp2515_can_frame_s</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:abc9b5c913233ee3db4d03651fdb2922f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmcp2515__can__frame__s.html">mcp2515_can_frame_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#abc9b5c913233ee3db4d03651fdb2922f">mcp2515_can_frame_t</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a123e226a045e6cc25eb069e6fc36f6e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a123e226a045e6cc25eb069e6fc36f6e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a123e226a045e6cc25eb069e6fc36f6e7">mcp2515_spi_port_init</a> (void)</td></tr>
<tr class="memdesc:a123e226a045e6cc25eb069e6fc36f6e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide the initiation of the SPI port to be use for the MCP2515 transmission. <br/></td></tr>
<tr class="memitem:a24065c4887710ccccf8081763ff851cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a24065c4887710ccccf8081763ff851cb">mcp2515_spi_transfer</a> (uint8_t dataOut, uint8_t *dataIn)</td></tr>
<tr class="memdesc:a24065c4887710ccccf8081763ff851cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide the tranmission service on the SPI port to MCP2515.  <a href="#a24065c4887710ccccf8081763ff851cb"></a><br/></td></tr>
<tr class="memitem:a1efdbcf980420935ef53983eb62f104f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1efdbcf980420935ef53983eb62f104f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a1efdbcf980420935ef53983eb62f104f">mcp2515_reset</a> (void)</td></tr>
<tr class="memdesc:a1efdbcf980420935ef53983eb62f104f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the RESET command over SPI bus. It has the same effect as lowing the RESET pin of MCP2515. <br/></td></tr>
<tr class="memitem:abb0b4cf06e52dd76995bf59c345dc1d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#abb0b4cf06e52dd76995bf59c345dc1d7">mcp2515_read</a> (uint8_t regAddr, uint8_t *dataAddr)</td></tr>
<tr class="memdesc:abb0b4cf06e52dd76995bf59c345dc1d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Read command over SPI bus. It can read any register byte accordingly of the address provided.  <a href="#abb0b4cf06e52dd76995bf59c345dc1d7"></a><br/></td></tr>
<tr class="memitem:a05f371b81bb30161a5eba472b1d2ab2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a05f371b81bb30161a5eba472b1d2ab2d">mcp2515_read_bust</a> (uint8_t regAddr, uint8_t *dataAddr, uint8_t size)</td></tr>
<tr class="memdesc:a05f371b81bb30161a5eba472b1d2ab2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the READ command over SPI bus. It can read any register byte accordingly of the address provided. It provides a bust read so please be careful on the read data that not overlap other MCP2515 registers's data.  <a href="#a05f371b81bb30161a5eba472b1d2ab2d"></a><br/></td></tr>
<tr class="memitem:a59dd2940bec9ea1a9f1e54ec67151b71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a59dd2940bec9ea1a9f1e54ec67151b71">mcp2515_read_rx_buf</a> (uint8_t nBuf, <a class="el" href="_m_c_p2515_8h.html#abc9b5c913233ee3db4d03651fdb2922f">mcp2515_can_frame_t</a> *canData)</td></tr>
<tr class="memdesc:a59dd2940bec9ea1a9f1e54ec67151b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Read RX Buffer command over SPI bus. This reads the whole CAN frame.  <a href="#a59dd2940bec9ea1a9f1e54ec67151b71"></a><br/></td></tr>
<tr class="memitem:a73cb48e1d9490cfa61284338bfed7eee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a73cb48e1d9490cfa61284338bfed7eee">mcp2515_write</a> (uint8_t regAddr, uint8_t data)</td></tr>
<tr class="memdesc:a73cb48e1d9490cfa61284338bfed7eee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the WRITE command over SPI bus. It can write any register byte accordingly of the address provided.  <a href="#a73cb48e1d9490cfa61284338bfed7eee"></a><br/></td></tr>
<tr class="memitem:aeb0440c036ae14cc5158135c70451602"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#aeb0440c036ae14cc5158135c70451602">mcp2515_write_bust</a> (uint8_t regAddr, uint8_t *dataAddr, uint8_t size)</td></tr>
<tr class="memdesc:aeb0440c036ae14cc5158135c70451602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the WRITE command over SPI bus. It can write any register byte accordingly of the address provided. It provides a bust write so please be careful on the write data that not overlap other MCP2515 registers's data.  <a href="#aeb0440c036ae14cc5158135c70451602"></a><br/></td></tr>
<tr class="memitem:aa8139477c2de40cf607eed9eba03fcb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#aa8139477c2de40cf607eed9eba03fcb4">mcp2515_load_tx_buf</a> (uint8_t nBuf, <a class="el" href="_m_c_p2515_8h.html#abc9b5c913233ee3db4d03651fdb2922f">mcp2515_can_frame_t</a> *canData)</td></tr>
<tr class="memdesc:aa8139477c2de40cf607eed9eba03fcb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Load TX Buffer command over SPI bus. This loads the whole CAN frame to the buffer.  <a href="#aa8139477c2de40cf607eed9eba03fcb4"></a><br/></td></tr>
<tr class="memitem:a923562c27f9208f059190fee50c8bac0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a923562c27f9208f059190fee50c8bac0">mcp2515_rts</a> (uint8_t nBuf)</td></tr>
<tr class="memdesc:a923562c27f9208f059190fee50c8bac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Request-To-Send (RTS) command over SPI bus. This sets a RTS to the TX buffer.  <a href="#a923562c27f9208f059190fee50c8bac0"></a><br/></td></tr>
<tr class="memitem:a76764f5108af00aaeb505b43663e0b9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a76764f5108af00aaeb505b43663e0b9f">mcp2515_read_rxtx_status</a> (uint8_t *canRxTxStatus)</td></tr>
<tr class="memdesc:a76764f5108af00aaeb505b43663e0b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Read Status command over SPI bus. This requests the CAN controller to give the RX/TX buffer status.  <a href="#a76764f5108af00aaeb505b43663e0b9f"></a><br/></td></tr>
<tr class="memitem:a4b627f9cda10fd975c3adf6ebb917af9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a4b627f9cda10fd975c3adf6ebb917af9">mcp2515_rx_status</a> (uint8_t *canRxStatus)</td></tr>
<tr class="memdesc:a4b627f9cda10fd975c3adf6ebb917af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the RX Status command over SPI bus.  <a href="#a4b627f9cda10fd975c3adf6ebb917af9"></a><br/></td></tr>
<tr class="memitem:a4964aef9c4f08864426eeed6c2e2d698"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a4964aef9c4f08864426eeed6c2e2d698">mcp2515_bit_modify</a> (uint8_t regAddr, uint8_t bitMask, uint8_t val)</td></tr>
<tr class="memdesc:a4964aef9c4f08864426eeed6c2e2d698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Bit Modify command over SPI bus.  <a href="#a4964aef9c4f08864426eeed6c2e2d698"></a><br/></td></tr>
<tr class="memitem:a86e8f9220f1c88ca05116afee5fff161"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a86e8f9220f1c88ca05116afee5fff161">mcp2515_id_multi_read</a> (uint8_t regAddr, uint32_t *canID)</td></tr>
<tr class="memdesc:a86e8f9220f1c88ca05116afee5fff161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read any Std or Ext ID from the begin address of the register XXXnSIDH.  <a href="#a86e8f9220f1c88ca05116afee5fff161"></a><br/></td></tr>
<tr class="memitem:ae8de1ee1742eeb41d5401d10e8324c80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#ae8de1ee1742eeb41d5401d10e8324c80">mcp2515_id_multi_write</a> (uint8_t regAddr, uint32_t canID)</td></tr>
<tr class="memdesc:ae8de1ee1742eeb41d5401d10e8324c80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write any Std or Ext ID from the begin address of the register XXXnSIDH.  <a href="#ae8de1ee1742eeb41d5401d10e8324c80"></a><br/></td></tr>
<tr class="memitem:a8ac29eb5f0038e1e5bdb2ea34f8d623b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_m_c_p2515_8h.html#a8ac29eb5f0038e1e5bdb2ea34f8d623b">mcp2515_set_baudrate</a> (uint32_t CANBaudRate, uint8_t syncSJW)</td></tr>
<tr class="memdesc:a8ac29eb5f0038e1e5bdb2ea34f8d623b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the speed of the CAN bus.  <a href="#a8ac29eb5f0038e1e5bdb2ea34f8d623b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>API for Atmel AVR MCU to control the Microchip MCP2515 CAN controller. This CAN controller use the SPI link. For that reason, SPI initiation and data control should custom by the user. </p>
<dl class="section author"><dt>Author:</dt><dd>Sy Sech VONG Frédéric Nadeau </dd></dl>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="abc9b5c913233ee3db4d03651fdb2922f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmcp2515__can__frame__s.html">mcp2515_can_frame_s</a> <a class="el" href="_m_c_p2515_8h.html#abc9b5c913233ee3db4d03651fdb2922f">mcp2515_can_frame_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Typedef of <a class="el" href="structmcp2515__can__frame__s.html">mcp2515_can_frame_s</a> </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4964aef9c4f08864426eeed6c2e2d698"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_bit_modify </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bitMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Bit Modify command over SPI bus. </p>
<p>This changes individual bit at the given register address. Not all registers can be changed that way. Please see the MCP2515.pdf p.61 and p.64 for more information. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">regAddr</td><td>is the register address. </td></tr>
    <tr><td class="paramname">bitMask</td><td>is the bit mask. </td></tr>
    <tr><td class="paramname">val</td><td>is the value to be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a86e8f9220f1c88ca05116afee5fff161"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_id_multi_read </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>canID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read any Std or Ext ID from the begin address of the register XXXnSIDH. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">regAddr</td><td>is the begin address of any CAN ID register with XXXnSIDH. e.i.: RXF3SIDH, RXM0SIDH, TXB1SIDH, etc. </td></tr>
    <tr><td class="paramname">canID</td><td>is the address of the value Std or Ext ID with 29th bit = 0 for Std ID or 29th bit = 1 for Ext ID. It returns the CAN ID locate in *canID provided. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae8de1ee1742eeb41d5401d10e8324c80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_id_multi_write </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>canID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write any Std or Ext ID from the begin address of the register XXXnSIDH. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">regAddr</td><td>is the begin address of any CAN ID register with XXXnSIDH. e.i.: RXF3SIDH, RXM0SIDH, TXB1SIDH, etc. </td></tr>
    <tr><td class="paramname">canID</td><td>is the value Std or Ext ID with 29th bit = 0 for Std ID or 29th bit = 1 for Ext ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa8139477c2de40cf607eed9eba03fcb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_load_tx_buf </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>nBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_c_p2515_8h.html#abc9b5c913233ee3db4d03651fdb2922f">mcp2515_can_frame_t</a> *&#160;</td>
          <td class="paramname"><em>canData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Load TX Buffer command over SPI bus. This loads the whole CAN frame to the buffer. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">nBuf</td><td>is buffer of #MCP2515_TX_BUF_0/1/2 (buffer TX 0,1 or 2). </td></tr>
    <tr><td class="paramname">canData</td><td>is the begin address of mcp2515_can_frame_t type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abb0b4cf06e52dd76995bf59c345dc1d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_read </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dataAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Read command over SPI bus. It can read any register byte accordingly of the address provided. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">regAddr</td><td>is the register address of the MCP2515. </td></tr>
    <tr><td class="paramname">dataAddr</td><td>is the address of the data to be writed on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a05f371b81bb30161a5eba472b1d2ab2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_read_bust </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dataAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the READ command over SPI bus. It can read any register byte accordingly of the address provided. It provides a bust read so please be careful on the read data that not overlap other MCP2515 registers's data. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">regAddr</td><td>is the register address of the MCP2515. </td></tr>
    <tr><td class="paramname">dataAddr</td><td>is the address of the data to be saved. </td></tr>
    <tr><td class="paramname">size</td><td>is the data byte size to be read (n bytes). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a59dd2940bec9ea1a9f1e54ec67151b71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_read_rx_buf </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>nBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m_c_p2515_8h.html#abc9b5c913233ee3db4d03651fdb2922f">mcp2515_can_frame_t</a> *&#160;</td>
          <td class="paramname"><em>canData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Read RX Buffer command over SPI bus. This reads the whole CAN frame. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">nBuf</td><td>buffer of #MCP2515_RX_BUF_0 (buffer RX 0) or #MCP2515_RX_BUF_1 (buffer RX 1). </td></tr>
    <tr><td class="paramname">canData</td><td>is the address of mcp2515_can_frame_t type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a76764f5108af00aaeb505b43663e0b9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_read_rxtx_status </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>canRxTxStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Read Status command over SPI bus. This requests the CAN controller to give the RX/TX buffer status. </p>
<p>The return value points by canRxTxStatus will be as below: MSB&lt;-|7|6|5|4|3|2|1|0|&lt;-LSB bit7: CANINTF.TX2IF bit3: CANINTF.TX0IF bit6: TXB2CNTRL.TXREQ bit2: TXB0CNTRL.TXREQ bit5: CANINTF.TX1IF bit1: CANINTFL.RX1IF bit4: TXB1CNTRL.TXREQ bit0: CANINTF.RX0IF </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">canRxTxStatus</td><td>is the address of the status value to be saved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a923562c27f9208f059190fee50c8bac0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_rts </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>nBuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Request-To-Send (RTS) command over SPI bus. This sets a RTS to the TX buffer. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">nBuf</td><td>is buffer of #MCP2515_TX_BUF_0/1/2 (buffer 0,1 or 2). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4b627f9cda10fd975c3adf6ebb917af9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_rx_status </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>canRxStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the RX Status command over SPI bus. </p>
<p>This requests the CAN controller to give the RX buffer status. It gives more information than MCP2515canReadRxTxStatus(). Please see the MCP2515.pdf p.67 for more information. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">canRxStatus</td><td>is the address of the status value to be saved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8ac29eb5f0038e1e5bdb2ea34f8d623b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_set_baudrate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CANBaudRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>syncSJW</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the speed of the CAN bus. </p>
<p>Some portions of the segment are fixed in CAN bus bit: SyncSeg = 1TQ. Always. PropSeg = variable. PS1 = variable. PS2 = variable. SJW = variable. User define. *Note: CAN bus bit MIN = 7TQ ; MAX = 25TQ. It tries to have at 75% sampling point in a CAN bit time. If the CANBaudrate = 0, it will leave the default configuration of the MCP2515. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">CANBaudrate</td><td>is the baudrate that you would like to run on the CAN bus. </td></tr>
    <tr><td class="paramname">SJW</td><td>is the Synchronization Jump Width for CAN bus sync. correction (1 to 4TQ). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a24065c4887710ccccf8081763ff851cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_spi_transfer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dataOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dataIn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide the tranmission service on the SPI port to MCP2515. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataOut</td><td>Data to be send. </td></tr>
    <tr><td class="paramname">dataIn</td><td>Pointer to 8 bits data space. Read value will be saved at specified address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a73cb48e1d9490cfa61284338bfed7eee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_write </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the WRITE command over SPI bus. It can write any register byte accordingly of the address provided. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">regAddr</td><td>is the register address of the MCP2515. </td></tr>
    <tr><td class="paramname">data</td><td>is the data to be send. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeb0440c036ae14cc5158135c70451602"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp2515_write_bust </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>regAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dataAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the WRITE command over SPI bus. It can write any register byte accordingly of the address provided. It provides a bust write so please be careful on the write data that not overlap other MCP2515 registers's data. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">regAddr</td><td>is the register address of the MCP2515. </td></tr>
    <tr><td class="paramname">dataAddr</td><td>is the begin address of the data byte to be send. </td></tr>
    <tr><td class="paramname">size</td><td>is the data byte size to be send (n bytes). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 17 2013 20:25:35 for P1000 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
